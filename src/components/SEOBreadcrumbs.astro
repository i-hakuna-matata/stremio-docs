---
// Component for adding breadcrumb structured data
const { pathname } = Astro.url;
const segments = pathname.split('/').filter(Boolean);

const breadcrumbs = [
  {
    '@type': 'ListItem',
    position: 1,
    name: 'Home',
    item: 'https://stremio.prabhu-tools.com',
  },
];

segments.forEach((segment, index) => {
  const name = segment
    .split('-')
    .map(word => word.charAt(0).toUpperCase() + word.slice(1))
    .join(' ');
  
  const item = `https://stremio.prabhu-tools.com/${segments.slice(0, index + 1).join('/')}`;
  
  breadcrumbs.push({
    '@type': 'ListItem',
    position: index + 2,
    name,
    item,
  });
});

const breadcrumbSchema = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: breadcrumbs,
};
---

<script type="application/ld+json" is:inline set:html={JSON.stringify(breadcrumbSchema)} />
